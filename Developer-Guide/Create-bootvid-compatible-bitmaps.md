# Создание и редактирование BMP для Greentea OS

Некоторые BMP в Greentea особенно чувствительны к изменению глубины цвета (количество битов на пиксель) и типу сжатия. Такими файлами, например, являются `6.bmp` и `14.bmp` из директории `ntoskrnl/inbv/logo`. Если у файла `14.bmp` изменить тип сжатия или глубину цвета, то система не загрузится в отладочном режиме.

## Что делать в таких случаях?

Будет полезно просмотреть информацию о картинке через специализированное ПО, например, [Full Image Info](http://www.graphicregion.com/imageinfo.zip) (Freeware). Особое внимание нужно обратить на пункты `BitsPerSample` и `BMP_Compression`. После этого будет легче решить, что делать с этой картинкой дальше.

* Если на картинке отсутствует сжатие (BMP_UNCOMPRESSED), то можно редактировать эту картинку как через Paint, так и через другие графические редакторы. Главное – при сохранении указать такую же глубину цвета, как и у оригинальной картинки.
* Если же картинка сжата с помощью алгоритма RLE (BMP_RLE), то её можно отредактировать через GIMP. Для этого нужно:
  * Открыть картинку и внести в нее исправления;
  * Перейти в "Image" -> "Mode" -> "Indexed" и указать нужное максимальное количество цветов, равное 2^(глубина цвета). Например, для глубины цвета в 4 бита максимальное количество цветов будет равняться 2^4 = 16. После этого картинка будет преобразована в другой цветовой профиль.
  * Перейти в "File" -> "Export As...", указать тип файла `.bmp`, нажать "Export";
  * Появится диалог, на котором нужно будет поставить галочку рядом с RLE и поставить галочку рядом с "Don't save color space information".
  * Теперь Greentea сможет загружаться с этой картинкой.

Актуально для GIMP 2.8.18.
